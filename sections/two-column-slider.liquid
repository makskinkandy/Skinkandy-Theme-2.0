<div class="two-column-slider margin-disable--{{ section.settings.margin_disable }} margin-enable--{{ section.settings.margin_enable }}">
    <div class="two-column-slider__wrapper page-width">
        <div class="two-column-slider__columns">
            <div class="two-column-slider__column">
                <h2>{{ section.settings.title }}</h4>
                <div class="content">
                    {{ section.settings.description }}
                </div>
                <div class="background-override"></div>
            </div>
            <div class="two-column-slider__slider-wrapper">
                <div class="two-column-slider__offset">
                    <div class="two-column-slider__slider" data-slider data-variable-width="true">
                        {% if section.blocks.size > 0 %}
                                {% for block in section.blocks %}
                                    {% assign item = block.settings %}
                                    <div class="two-column-slider__item" {% if block.settings.popup_content != blank %}data-popup-content='<h2>{{ block.settings.title }}</h2>{{ block.settings.popup_content }}'{% endif %}>
                                        <img src="{{ item.image | image_url }}" alt="{{ item.title }}">
                                        <div class="two-column-slider__item-content">
                                            <h2>{{ item.title }}</h2>
                                            {{ item.content }}
                                            <div class="button-wrapper">
                                              {% if item.button_text !=blank %}
                                                <a href="{{ item.button_url }}" class="btn {{ item.button_color }}">{{ item.button_text }}</a>
                                            {% endif %}
                                            {% if item.popup_enable %}
                                              <a href="#" class="btn btn--black open-popup">Learn More</a>
                                          {% endif %}
                                            </div>
                                            <div class="vs-dots">
                                              {% for block in section.blocks %}
                                                <button type="button" class="vs-dot {% if forloop.first %}is-active{% endif %}" aria-label="Go to slide {{ forloop.index }}" aria-current="{% if forloop.first %}true{% else %}false{% endif %}"></button>
                                              {% endfor %}
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="tc-popup" aria-hidden="true">
      <div class="tc-popup__overlay" data-close></div>
      <div class="tc-popup__dialog" role="dialog" aria-modal="true">
        <button class="tc-popup__close" type="button" data-close>&times;</button>
        <div class="tc-popup__content"></div>
      </div>
    </div>
</div>
{% schema %}
{
  "name": "Two Column with Slider",
  "settings": [
    {
      "type": "checkbox",
      "id": "margin_disable",
      "label": "Disable Top margins?"
    },
    {
      "type": "checkbox",
      "id": "margin_enable",
      "label": "Enable Bottom margins?"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Slide",
      "settings": [
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "text",
            "id": "title",
            "label": "Title"
        },
        {
            "type": "richtext",
            "id": "content",
            "label": "Content"
        },
        {
            "type": "text",
            "id": "button_text",
            "label": "Button Text"
        },
        {
            "type": "url",
            "id": "button_url",
            "label": "Button URL"
        },
        {
          "type": "select",
          "id": "button_color",
          "label": "Button Color",
          "default": "btn--pink",
          "options": [
              {
              "value": "btn--pink",
              "label": "Pink"
              },
              {
              "value": "btn--cobalt",
              "label": "Cobalt"
              },
              {
              "value": "btn--black",
              "label": "Black"
              },
          ]
        },
        {
          "type": "checkbox",
          "id": "popup_enable",
          "label": "Enable Popup"
        },
        {
          "type": "richtext",
          "id": "popup_content",
          "label": "Popup Content"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Two Column with Slider"
    }
  ]
}
{% endschema %}