{% if settings.show_breadcrumbs %}

{% unless template.name == 'index' or template.name == 'cart' %}
  <nav class="breadcrumb" role="navigation" aria-label="breadcrumbs">
    <a href="{{ routes.root_url }}" title="{{ 'general.breadcrumbs.home_link_title' | t }}">{{ 'general.breadcrumbs.home' | t }}</a>

    {% if template.name == 'product' %}
      <a href="/collections/shop-all">Shop All</a>
      <span class="breadcrumb__divider" aria-hidden="true">></span>
      <span id="dynamic-collection-title"></span>
      <noscript>
        <span class="breadcrumb__divider" aria-hidden="true">></span>
        <a href="{{ product.collections.first.url }}">{{ product.collections.first.title }}</a>
      </noscript>
      <span class="breadcrumb__divider" aria-hidden="true">></span>
      <span>{{ product.title }}</span>

    {% elsif template.name == 'collection' and collection.handle %}
      {% if settings.show_breadcrumbs_collection_link %}
        <span class="breadcrumb__divider" aria-hidden="true">></span>
        {% if collection.handle == "shop-all" %}
          <span>Shop All</span>
        {% else %}
          <a href="/collections/shop-all">Shop All</a>
          <span class="breadcrumb__divider" aria-hidden="true">></span>
          <span>{{ collection.title | escape }}</span>
        {% endif %}
        
      {% endif %}

    
    {% elsif template.name == 'blog' %}

      <span class="breadcrumb__divider" aria-hidden="true">></span>
      {% if current_tags %}
        {{ blog.title | link_to: blog.url }}
        <span class="breadcrumb__divider" aria-hidden="true">></span>
        <span>{{ current_tags | join: " + " }}</span>
      {% endif %}

    {% elsif template.name == 'article' %}

      <span class="breadcrumb__divider" aria-hidden="true">></span>
      {{ blog.title | link_to: blog.url }}
      <span class="breadcrumb__divider" aria-hidden="true">></span>

    {% elsif template.name == 'page' %}

      <span class="breadcrumb__divider" aria-hidden="true">></span>
      <span>{{ page.title }}</span>

    {% elsif template.name == 'search' %}

      <span class="breadcrumb__divider" aria-hidden="true">></span>
      <span>{{ page_title | replace: '*', '' }}</span>

    {% else %}

      <span class="breadcrumb__divider" aria-hidden="true">></span>
      <span>{{ page_title }}</span>

    {% endif %}
  </nav>
{% endunless %}

  <script>
  window.collectionTitles = {
    {% for collection in collections %}
      "{{ collection.handle }}": "{{ collection.title | escape }}"{% unless forloop.last %},{% endunless %}
    {% endfor %}
  };
</script>

{% endif %}
